// Contract with an Access Control vulnerability
outputStruct main(inputStruct in) {
    outputStruct out;
    // We imagine a 'owner' state variable exists, but it's not checked
    // char* owner = load_string_state("owner");

    // VULNERABILITY: This function can be called by anyone, not just the owner.
    // An attacker can destroy the contract, freezing all assets or rendering it useless.
    if (in.functionName == "destroyContract") {
        // In a real scenario, this would delete the contract's code and state.
        // We'll simulate by setting a "destroyed" flag.
        save_int_state("destroyed", 1);
        out.success = true;
        // selfdestruct(owner); // Imaginary function
    }

    if (in.functionName == "isDestroyed") {
        int destroyed = load_int_state("destroyed");
        set_int_return(destroyed);
        out.success = true;
    }

    return out;
}
